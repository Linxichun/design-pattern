#简介
##为什么要使用工厂方法模式
在简单工厂模式中曾提到，简单工厂模式虽然简单，但存在一个很严重的问题：当系统中需要引入新产品时，由于静态工
厂方法通过所传入参数的不同来创建不同的产品，必定要修改工厂类的源代码，违背了“开闭原则”。利用工厂方法模式可
以解决这个问题。
##什么是工厂方法模式
工厂方法模式(Factory Method Pattern)：定义一个用于创建对象的接口，让子类决定实例化哪个类。工厂方法模式使一个
类的实例化延迟到子类。
##别名
- 工厂模式(Factory Pattern)
- 虚拟构造器(Virtual Constructor Pattern)模式
- 多态工厂(Polymorphic Factory Pattern)模式
##类型
类创建型模式
##遵守的原则
开闭原则。
#本文角色
- 产品接口。产品接口的主要目的是定义产品的规范，所有的产品实现都必须遵循产品接口定义的规范。
- 产品实现。实现产品接口的具体类，决定了产品在客户端中的具体行为。
- 工厂接口。工厂接口是工厂方法模式的核心，与调用者直接交互用来提供产品。在实际编程中，有时候也会使用一个抽象类来作为与调用者交互的接口，其本质上是一样的。
- 工厂实现。在编程中，工厂实现决定如何实例化产品，是实现扩展的途径，需要有多少种产品，就需要有多少个具体的工厂实现。
#实现
- 创建一个 产品接口IProduct.java。
- 创建实现产品接口IProduct.java的产品类ProductA.java、ProductB.java。
- 创建工厂类接口IProductFactory.java
- 创建和每种产品对应的工厂类FactoryA.java、FactoryB.java。
- 创建测试类FactoryPatternDemo.java。
#优缺点
##优点
- 封装。产品类的实例化有时候是比较复杂和多变的，通过工厂模式，将产品的实例化封装起来，调用者无需关心产品的实例化过程，只需依赖工厂即可得到自己想要的产品。
- 多态。基于工厂角色和产品角色的多态性设计是工厂方法模式的关键。它能够使工厂可以自主确定创建何种产品对象，而如何创建这个对象的细节则完全封装在具体工厂内部。工厂方法模式之所以又被称为多态工厂模式，是因为所有的具体工厂类都具有同一抽象父类。
- 遵守“开闭原则”。在系统中加入新产品时，而只要添加一个具体工厂和具体产品就可以了，完全符合“开闭原则”。
##缺点
- 增加了系统的复杂度。在添加新产品时，需要编写新的具体产品类，而且还要提供与之对应的具体工厂类，系统中类的个数将成对增加。
#适用环境
将创建对象的任务委托给多个工厂子类中的某一个，客户端在使用时可以无须关心是哪一个工厂子类创建产品子类，需要时再动态指定，可将具体工厂类的类名存储在配置文件或数据库中。
##使用场景
JDBC切换数据库产品。如从Oracle切换到MySQL，只需要更改配置文件中的参数就可以了。
#问题
##如果说来了一个需求，增加一个产品，该如何办？
需要增加一个产品类和对应的工厂类。
##在软件开发中，你在哪里用到了工厂方法模式？ 
面试的时候经常被问到，好好想想吧^^